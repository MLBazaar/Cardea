
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Advanced use &#8212; Cardea 0.1.3.dev0 documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API Reference" href="../api_reference/index.html" />
    <link rel="prev" title="Auditing" href="auditing.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    
<a class="navbar-brand" href="../index.html">
<p class="title">Cardea</p>
</a>

    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../getting_started/index.html">
  Getting Started
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index.html">
  Basic Concepts
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../api_reference/index.html">
  API Reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../community/index.html">
  Community
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../history.html">
  Release Notes
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/MLBazaar/Cardea" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="data_loading.html">
   Data Loading
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="machine_learning_tasks.html">
   Machine Learning Tasks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="auto_featurization.html">
   Auto - Featurization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="auto_ml.html">
   Auto - ML
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="auditing.html">
   Auditing
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Advanced use
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-to-define-a-new-machine-learning-task">
   How to define a new machine learning task?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#features-primitives-and-automl-integration">
   Features, primitives and AutoML integration
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="advanced-use">
<h1>Advanced use<a class="headerlink" href="#advanced-use" title="Permalink to this headline">¶</a></h1>
<div class="section" id="how-to-define-a-new-machine-learning-task">
<h2>How to define a new machine learning task?<a class="headerlink" href="#how-to-define-a-new-machine-learning-task" title="Permalink to this headline">¶</a></h2>
<p>The definition of a new Machine Learning task in Cardea can be made in four simple steps:</p>
<ol class="arabic simple">
<li><p>Go to the <a class="reference external" href="https://github.com/D3-AI/Cardea/tree/master/cardea/problem_definition">problem_definition</a> directory and create a file with a class specifically for
your problem. This class should extend the <a class="reference external" href="https://github.com/D3-AI/Cardea/blob/master/cardea/problem_definition/definition.py">ProblemDefinition</a> class and overwrites
accordingly the necessary attributes and methods as needed. Usually, you should pay special
attention to the <code class="docutils literal notranslate"><span class="pre">generate_target_label(...)</span></code> and <code class="docutils literal notranslate"><span class="pre">generate_cutoff_times(...)</span></code> methods
as you might need to extend them or re-implemented in some cases.</p></li>
<li><p>Expose your new class definition in the <a class="reference external" href="https://github.com/D3-AI/Cardea/blob/master/cardea/problem_definition/__init__.py">init</a> file inside the <a class="reference external" href="https://github.com/D3-AI/Cardea/tree/master/cardea/problem_definition">problem_definition</a> directory</p></li>
<li><p>If you will be using a dataset in a different format that the expected by Cardea (CSV files),
then you will need to provide a specific loading dataset method for your data in the
<a class="reference external" href="https://github.com/D3-AI/Cardea/blob/master/cardea/data_loader/entityset_loader.py#L9">EntitySetLoader</a> class, where you will be creating your collection of entities and
relationships between them using the <a class="reference external" href="https://docs.featuretools.com/generated/featuretools.EntitySet.html#featuretools.EntitySet">featuretools.EntitySet</a> class.</p></li>
<li><p>Finally, you need to update the <a class="reference external" href="https://github.com/D3-AI/Cardea/blob/master/cardea/cardea.py">Cardea</a> class to support the new problem definition and be
able to instantiate the proper class when it is necessary in the <code class="docutils literal notranslate"><span class="pre">Cardea.select_problem(...)</span></code>
method.</p></li>
</ol>
</div>
<div class="section" id="features-primitives-and-automl-integration">
<h2>Features, primitives and AutoML integration<a class="headerlink" href="#features-primitives-and-automl-integration" title="Permalink to this headline">¶</a></h2>
<p>Once you have defined your problem, following the four steps in the previous section, you will be
able to perform featurization and run different primitives using the AutoML tool as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">cardea</span> <span class="kn">import</span> <span class="n">Cardea</span>
<span class="n">cardea</span> <span class="o">=</span> <span class="n">Cardea</span><span class="p">()</span>
<span class="n">cardea</span><span class="o">.</span><span class="n">load_your_custom_data</span><span class="p">()</span>
<span class="n">problem</span> <span class="o">=</span> <span class="n">cardea</span><span class="o">.</span><span class="n">select_problem</span><span class="p">(</span><span class="s1">&#39;YourCustomProblemDefinition&#39;</span><span class="p">)</span>
<span class="n">feature_matrix</span> <span class="o">=</span> <span class="n">cardea</span><span class="o">.</span><span class="n">generate_features</span><span class="p">(</span><span class="n">problem</span><span class="p">[:</span><span class="mi">1000</span><span class="p">])</span>  <span class="c1"># a subset</span>
<span class="n">feature_matrix</span> <span class="o">=</span> <span class="n">feature_matrix</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">frac</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># shuffle</span>
<span class="n">y</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">feature_matrix</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="p">))</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">feature_matrix</span><span class="o">.</span><span class="n">values</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s1">&#39;sklearn.ensemble.RandomForestClassifier&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;sklearn.naive_bayes.MultinomialNB&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;sklearn.neighbors.KNeighborsClassifier&#39;</span><span class="p">]</span>
<span class="p">]</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">cardea</span><span class="o">.</span><span class="n">execute_model</span><span class="p">(</span><span class="n">feature_matrix</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">primitives</span><span class="o">=</span><span class="n">pipeline</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="auditing.html" title="previous page">Auditing</a>
    <a class='right-next' id="next-link" href="../api_reference/index.html" title="next page">API Reference</a>

              </div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2018, MIT Data To AI Lab.<br/>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.2.1.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>